<div *ngIf="!isClient" class="card-container">
  <mat-card *ngIf="fetchImage" class="override-padding">
    <!-- <div class="flex flex-middle mb-5">
      <mat-icon>edit</mat-icon>
      <span class="padding-left-xs font-bold">SKILLS</span>
    </div> -->

    <a (click)="onCardClick(cardData?.id)" class="cursor-pointer">
      <img mat-card-image class="card-img mat-lite-background" role="link" aria-label="skill"
        i18n-aria-label="skill | Click to view skill Details" [src]="cardData.imageUrl"
        [wsUtilsDefaultThumbnail]="defaultThumbnail" [alt]="cardData?.title" i18n-alt />
    </a>
    <!-- <p *ngIf="cardData?.level" matTooltip="Level" class="text-right text-uppercase mat-caption">
      {{cardData?.level}}
    </p> -->
    <div class="flex justify-between flex-middle">
      <div *ngIf="cardData?.title" (click)="onCardClick(cardData?.id)" class="truncate title cursor-pointer">
        <h2 class="margin-remove-bottom text-div" matTooltip="{{ cardData?.title }}">
          {{ cardData?.title }}
        </h2>
      </div>
      <mat-icon *ngIf="!cardData?.status" class="ws-mat-primary-text ml-2 cursor-pointer"
        (click)="clickIcon(cardData?.id, cardData?.title, 'add')" i18n-matTooltip matTooltip="Add to Skills I aspire">
        add_circle
      </mat-icon>
      <mat-icon *ngIf="cardData?.status === 'shortlisted'" class="ws-mat-primary-text ml-2" i18n-matTooltip
        matTooltip="Skill I aspire">
        slow_motion_video
      </mat-icon>
      <mat-icon *ngIf="cardData?.status === 'approved'" class="ws-mat-primary-text ml-2" i18n-matTooltip
        matTooltip="Approved">
        check_circle
      </mat-icon>
      <mat-icon *ngIf="cardData?.status === 'pending'" class="ws-mat-primary-text ml-2" i18n-matTooltip
        matTooltip="Pending with approver">
        history
      </mat-icon>
    </div>
    <!-- <mat-card-content *ngIf="cardData?.category || cardData?.horizon" class="margin-top-m content-div">
      <div class="flex justify-between">
        <p *ngIf="cardData?.category" matTooltip="Category" class="text-right text-uppercase mat-caption">
          {{ cardData?.category }}
        </p>
        <p *ngIf="cardData?.horizon" matTooltip="Horizon" class="mat-caption">
          {{ cardData?.horizon }}
        </p>
      </div>
      <div class="flex justify-between">
        <div *ngIf="cardData?.courseCount" class="flex flex-middle mb-4">
          <span>{{ cardData?.courseCount }}</span>
          <span class="padding-left-xs" i18n>Courses</span>
        </div>
        <div *ngIf="cardData?.certificationCount" class="flex flex-middle mb-4">
          <span>{{ cardData?.certificationCount }}</span>
          <span class="padding-left-xs" i18n>Certifications</span>
        </div>
      </div>
    </mat-card-content> -->
  </mat-card>
</div>
<div *ngIf="isClient">
  <!-- <mat-chip-list>
    <mat-chip #selectedChip class="ws-mat-primary-border-bold suggestions-chip">
      <a class="cursor-pointer text-truncate" matTooltip="{{ cardData?.title }}"
        (click)="onCardClick(cardData?.id)">{{ cardData?.title }}</a>

      <mat-icon *ngIf="!cardData?.status" class="ws-mat-primary-text ml-2 cursor-pointer"
        (click)="clickIcon(cardData?.id, cardData?.title, 'add')" i18n-matTooltip matTooltip="Add to Skills I aspire">
        add
      </mat-icon>
      <mat-icon *ngIf="cardData?.status === 'shortlisted'" class="ws-mat-primary-text ml-2 cursor-pointer"
        (click)="clickIcon(cardData?.id, cardData?.title, 'endorse')" i18n-matTooltip matTooltip="Skill I aspire">
        slow_motion_video
      </mat-icon>
      <mat-icon *ngIf="cardData?.status === 'approved'" class="ws-mat-primary-text ml-2 cursor-pointer"
        (click)="clickIcon(cardData?.id, cardData?.title, 'approved')" i18n-matTooltip matTooltip="Approved">check
      </mat-icon>
      <mat-icon *ngIf="cardData?.status === 'pending'" class="ws-mat-primary-text ml-2 cursor-pointer"
        (click)="clickIcon(cardData?.id, cardData?.title, 'pending')" i18n-matTooltip
        matTooltip="Pending with approver">history</mat-icon>
    </mat-chip>
  </mat-chip-list> -->
  <mat-card class="card-space-saving-container position-relative ws-mat-primary-border-top-bolder">
    <mat-card-content>
      <div class="flex flex-middle flex-wrapped">
        <a class="cursor-pointer" (click)="onCardClick(cardData?.id)">
          <p class="ws-mat-primary-text font-bold title-text">
            {{ cardData?.title }}
          </p>
        </a>
      </div>
      <div class="flex flex-middle flex-end flex-wrapped">
        <mat-chip-list *ngIf="!allSkills">
          <mat-chip>{{ skillLevel }}</mat-chip>
        </mat-chip-list>
        <mat-icon *ngIf="!cardData?.status" class="ws-mat-primary-text ml-2 cursor-pointer"
          (click)="clickIcon(cardData?.id, cardData?.title, 'add')" i18n-matTooltip matTooltip="Add to Skills I aspire">
          add_circle
        </mat-icon>
        <mat-icon *ngIf="cardData?.status === 'shortlisted'" class="ws-mat-primary-text ml-2 cursor-pointer"
          (click)="clickIcon(cardData?.id, cardData?.title, 'endorse')" i18n-matTooltip matTooltip="Skill I Aspire">
          slow_motion_video
        </mat-icon>
        <mat-icon *ngIf="cardData?.status === 'approved'" class="ws-mat-primary-text ml-2 cursor-pointer"
          (click)="clickIcon(cardData?.id, cardData?.title, 'approved')" i18n-matTooltip matTooltip="Approved">
          check_circle
        </mat-icon>
        <mat-icon *ngIf="cardData?.status === 'pending'" class="ws-mat-primary-text ml-2 cursor-pointer"
          (click)="clickIcon(cardData?.id, cardData?.title, 'pending')" i18n-matTooltip
          matTooltip="Pending with approver">history</mat-icon>
      </div>
    </mat-card-content>
  </mat-card>


  <!-- <div *ngIf="showAddDetails" class="details margin-m ">
    <div *ngIf="apiFetchStatus === 'done'">
      <div class="text-right cursor-pointer">
        <a class="cursor-pointer" color="primary" (click)="onClose('add')" mat-icon-button i18n-matTooltip
          matTooltip="Close">
          <mat-icon>close</mat-icon>
        </a>
      </div>
      <p class="font-bold" i18n>Select the level of skill</p>
      <mat-radio-group class="example-radio-group" [(ngModel)]="selectedLevel" *ngIf="apiFetchStatus === 'done'">
        <mat-radio-button class="example-radio-button" *ngFor="let level of skillQuotientData"
          [value]="level?.skill_level_id">
          {{ level?.skill_level }}
        </mat-radio-button>
      </mat-radio-group>
      <div class="flex justify-start">
        <button mat-raised-button color="primary" (click)="addToShortList(cardData?.id)" i18n>Add</button>
      </div>
    </div>
    <div *ngIf="apiFetchStatus === 'fetching'" class="text-center">
      <mat-spinner></mat-spinner>
    </div>
  </div> -->
  <div *ngIf="showEndorseDetails" class="details margin-xs">
    <div class="text-right cursor-pointer">
      <a class="cursor-pointer" color="primary" (click)="onClose('endorse')" mat-icon-button i18n-matTooltip
        matTooltip="Close">
        <mat-icon>close</mat-icon>
      </a>
    </div>
    <div *ngIf="apiFetchStatus === 'done'">
      <p class="font-bold" i18n>Select the level of skill</p>
      <mat-radio-group class="example-radio-group" [(ngModel)]="selectedLevel" *ngIf="apiFetchStatus === 'done'">
        <mat-radio-button class="example-radio-button" *ngFor="let level of skillQuotientData"
          [value]="level?.skill_level_id">
          {{ level?.skill_level }}
        </mat-radio-button>
      </mat-radio-group>
      <div class="flex justify-start">
        <button mat-raised-button color="primary" (click)="requestEndorsement(cardData?.id)" i18n>Request
          Endorsement</button>
      </div>
    </div>
    <div *ngIf="apiFetchStatus === 'fetching'" class="text-center">
      <mat-spinner></mat-spinner>
    </div>
  </div>
  <div *ngIf="showApprovedDetails" class="details margin-xs">
    <!-- <h2 *ngIf="cardData?.skill_name" class="font-bold">{{ request.skill_name }}
      <span *ngIf="cardData?.skill_level"> - ({{ request.skill_level }})</span></h2> -->
    <div class="text-right cursor-pointer">
      <a class="cursor-pointer" color="primary" (click)="onClose('approved')" mat-icon-button i18n-matTooltip
        matTooltip="Close">
        <mat-icon>close</mat-icon>
      </a>
    </div>
    <div *ngIf="cardData?.endorsementData?.created_on" class="flex flex-middle flex-wrapped">
      <p class="mat-body-1" i18n> Your have sent endorsement request for level</p>
      <p class="font-bold margin-left-xs" i18n>{{ cardData?.endorsementData?.skill_level }}</p>
      <p *ngIf="cardData?.endorsementData?.created_on" class="mat-body-1 margin-left-xs" i18n>on</p>
      <p class="font-bold margin-left-xs">{{ cardData?.endorsementData?.created_on | date: 'd MMM, y' }}</p>
    </div>
    <div class="flex flex-middle flex-wrapped">
      <p class="mat-body-1" i18n>Your request has been </p>
      <p class="font-bold margin-left-xs" i18n>approved</p>
      <p *ngIf="cardData?.endorsementData?.approver_email_id" class="mat-body-1 margin-left-xs" i18n>by</p>
      <p class="font-bold margin-left-xs" *ngIf="cardData?.endorsementData?.approver_email_id">
        {{ cardData?.endorsementData?.approver_email_id | titlecase }}
      </p>
    </div>
    <div *ngIf="cardData?.endorsementData?.approver_message" class="flex flex-middle flex-wrapped">
      <p class="font-bold" i18n>Comments from Approver :</p>
      <p class="mat-body-1 margin-left-xs">{{ cardData?.endorsementData?.approver_message | titlecase }}</p>
    </div>
  </div>
  <div *ngIf="showApprovedForDetails" class="details margin-xs">
    <!-- <h2 *ngIf="cardData?.skill_name" class="font-bold">{{ request.skill_name }}
      <span *ngIf="cardData?.skill_level"> - ({{ request.skill_level }})</span></h2> -->
    <div class="text-right cursor-pointer">
      <a class="cursor-pointer" color="primary" (click)="onClose('approved')" mat-icon-button i18n-matTooltip
        matTooltip="Close">
        <mat-icon>close</mat-icon>
      </a>
    </div>
    <div *ngIf="cardData?.endorsementData" class="flex flex-middle flex-wrapped">
      <p class="mat-body-1" i18n> Your have approved this endorsement request for level</p>
      <p class="font-bold margin-left-xs" i18n>{{ cardData?.endorsementData?.skill_level }}</p>
      <p *ngIf="cardData?.endorsementData?.created_on" class="mat-body-1 margin-left-xs" i18n>on</p>
      <p class="font-bold margin-left-xs">{{ cardData?.endorsementData?.created_on | date: 'd MMM, y' }}</p>
      <p *ngIf="cardData?.endorsementData?.user_email_id" class="mat-body-1 margin-left-xs" i18n>from</p>
      <p class="font-bold margin-left-xs" *ngIf="cardData?.endorsementData?.user_email_id">
        {{ cardData?.endorsementData?.user_email_id | titlecase }}
      </p>
    </div>
    <div *ngIf="cardData?.endorsementData?.approver_message" class="flex flex-middle flex-wrapped">
      <p class="font-bold" i18n>Comments from You :</p>
      <p class="mat-body-1 margin-left-xs">{{ cardData?.endorsementData?.approver_message | titlecase }}</p>
    </div>

  </div>
  <div *ngIf="showPendingDetails" class="details margin-xs">
    <!-- <h2 *ngIf="cardData?.skill_name" class="font-bold">{{ request.skill_name }}
      <span *ngIf="cardData?.skill_level"> - ({{ request.skill_level }})</span></h2> -->
    <div class="text-right cursor-pointer">
      <a class="cursor-pointer" color="primary" (click)="onClose('pending')" mat-icon-button i18n-matTooltip
        matTooltip="Close">
        <mat-icon>close</mat-icon>
      </a>
    </div>
    <div *ngIf="cardData?.endorsementData?.created_on" class="flex flex-middle flex-wrapped">
      <p class="mat-body-1" i18n> Your have sent endorsement request for level</p>
      <p class="font-bold margin-left-xs" i18n>{{ cardData?.endorsementData?.skill_level }}</p>
      <p *ngIf="cardData?.endorsementData?.created_on" class="mat-body-1 margin-left-xs" i18n>on</p>
      <p class="font-bold margin-left-xs">{{ cardData?.endorsementData?.created_on | date: 'd MMM, y' }}</p>
    </div>
    <div class="flex flex-middle flex-wrapped">
      <p class="mat-body-1" i18n>Your request is still </p>
      <p class="font-bold margin-left-xs" i18n>pending</p>
      <p *ngIf="cardData?.endorsementData?.approver_email_id" class="mat-body-1 margin-left-xs" i18n>with</p>
      <p class="font-bold margin-left-xs" *ngIf="cardData?.endorsementData?.approver_email_id">
        {{ cardData?.endorsementData?.approver_email_id | titlecase }}</p>
    </div>
  </div>
  <div *ngIf="showPendingForApprovalDetails" class="details margin-xs">
    <!-- <h2 *ngIf="cardData?.skill_name" class="font-bold">{{ request.skill_name }}
      <span *ngIf="cardData?.skill_level"> - ({{ request.skill_level }})</span></h2> -->
    <div class="text-right cursor-pointer">
      <a class="cursor-pointer" color="primary" (click)="onClose('pending')" mat-icon-button i18n-matTooltip
        matTooltip="Close">
        <mat-icon>close</mat-icon>
      </a>
    </div>
    <div *ngIf="cardData?.endorsementData" class="flex flex-middle flex-wrapped">
      <p class="mat-body-1" i18n> Your have a endorsement request for level</p>
      <p class="font-bold margin-left-xs" i18n>{{ cardData?.endorsementData?.skill_level }}</p>
      <p *ngIf="cardData?.endorsementData?.created_on" class="mat-body-1 margin-left-xs" i18n>sent on</p>
      <p class="font-bold margin-left-xs">{{ cardData?.endorsementData?.created_on | date: 'd MMM, y' }}</p>
      <p *ngIf="cardData?.endorsementData?.user_email_id" class="mat-body-1 margin-left-xs" i18n>from</p>
      <p class="font-bold margin-left-xs" *ngIf="cardData?.endorsementData?.user_email_id">
        {{ cardData?.endorsementData?.user_email_id | titlecase }}</p>
    </div>
    <div class="flex flex-start flex-wrapped">
      <button mat-raised-button color="primary" (click)="openApproveDialog(cardData?.endorsementData)" i18n>
        Endorse
      </button>
      <button mat-raised-button color="accent" class="margin-left-xl"
        (click)="openRejectDialog(cardData?.endorsementData)" i18n>
        Reject
      </button>
    </div>
  </div>
</div>
<input #existsContent type="hidden" i18n-value value="Please select a level" />
