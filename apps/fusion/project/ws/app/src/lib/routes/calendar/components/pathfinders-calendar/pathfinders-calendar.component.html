<mat-toolbar>
  <ws-widget-btn-page-back [widgetData]="{ url: 'back' }">
  </ws-widget-btn-page-back>
  <span i18n="page title: Livestream Calendar" class="margin-left-xs">Livestream Calendar</span>
</mat-toolbar>
<div *ngIf="!screenSizeIsLtMedium">
  <!-- <div class="m-8">
    <table style="width:100%">
      <tr>
        <th colspan="7">April 2020</th>
      </tr>
      <tr style="background-color: rgb(166, 166, 166)">
        <th>Sunday</th>
        <th>Monday</th>
        <th>Tuesday</th>
        <th>Wednesday</th>
        <th>Thursday</th>
        <th>Friday</th>
        <th>Saturday</th>
      </tr>
      <tr *ngFor="let row of [1, 2, 3, 4]">
        <td *ngFor="let col of [1, 2, 3, 4, 5, 6, 7]" valign="top" style="width:14.28%">
          <ng-container *ngTemplateOutlet="eventDetails;
                      context: {
                        events: data?.april2020[(row -1) * 7 + col - 1]?.events,
                        date: data?.april2020[(row -1) * 7 + col - 1]?.date
                        }">
          </ng-container>
        </td>
      </tr>
    </table>
  </div> -->

  <!-- <div class="m-8">
    <table style="width:100%">
      <tr>
        <th colspan="7">May 2020</th>
      </tr>
      <tr style="background-color: rgb(166, 166, 166)">
        <th>Sunday</th>
        <th>Monday</th>
        <th>Tuesday</th>
        <th>Wednesday</th>
        <th>Thursday</th>
        <th>Friday</th>
        <th>Saturday</th>
      </tr>
      <tr *ngFor="let row of [1, 2, 3, 4, 5, 6]">
        <td *ngFor="let col of [1, 2, 3, 4, 5, 6, 7]" valign="top" style="width:14.28%">
          <ng-container *ngTemplateOutlet="eventDetails;
            context: {
              events: data?.may2020[(row -1) * 7 + col - 1]?.events,
              date: data?.may2020[(row -1) * 7 + col - 1]?.date
              }">
          </ng-container>
        </td>
      </tr>
    </table>
    <ng-template #eventDetails let-eventDataArray="events" let-date="date">
      <div class="px-1">
        <div class=" text-xs font-medium">
          {{date}}
        </div>
      </div>
      <br>
      <div class="px-1" *ngFor="let eventData of eventDataArray">
        <div *ngIf="eventDataArray?.length>1" class="flex text-xs flex-row">
          <span class=" w-1/6">
            -
          </span>
          <span class="text-xs w-5/6">
            <span class="font-bold">
              {{eventData.title}}
            </span>
            <span *ngIf="eventData.detail.length>0" class="font-medium">
              {{eventData.detail}}
            </span>
            <a *ngIf="eventData.link.length>0 && eventData.linkName.length>0" class="font-medium"
              [href]="eventData.link">{{eventData.linkName}}
            </a>
          </span>
        </div>
        <div *ngIf="eventDataArray?.length===1" class="text-xs text-center">
          <span class="font-bold">
            {{eventData.title}}
          </span>
          <span *ngIf="eventData.detail.length>0" class="font-medium">
            {{eventData.detail}}
          </span>
          <a *ngIf="eventData.link.length>0 && eventData.linkName.length>0" class="font-medium"
            [href]="eventData.link">{{eventData.linkName}}
          </a>
        </div>
        <br>
      </div>

    </ng-template>
  </div> -->

  <div class="m-8">
    <table style="width:100%">
      <tr>
        <th colspan="7">June 2020</th>
      </tr>
      <tr style="background-color: rgb(166, 166, 166)">
        <th>Sunday</th>
        <th>Monday</th>
        <th>Tuesday</th>
        <th>Wednesday</th>
        <th>Thursday</th>
        <th>Friday</th>
        <th>Saturday</th>
      </tr>
      <tr *ngFor="let row of [1, 2, 3, 4, 5]">
        <td *ngFor="let col of [1, 2, 3, 4, 5, 6, 7]" valign="top" style="width:14.28%">
          <ng-container *ngTemplateOutlet="eventDetails;
              context: {
                events: data?.june2020[(row -1) * 7 + col - 1]?.events,
                date: data?.june2020[(row -1) * 7 + col - 1]?.date
                }">
          </ng-container>
        </td>
      </tr>
    </table>
    <ng-template #eventDetails let-eventDataArray="events" let-date="date">
      <div class="px-1">
        <div class=" text-xs font-medium">
          {{date}}
        </div>
      </div>
      <br>
      <div class="px-1" *ngFor="let eventData of eventDataArray">
        <div *ngIf="eventDataArray?.length>1" class="flex text-xs flex-row">
          <span class=" w-1/6">
            -
          </span>
          <span class="text-xs w-5/6">
            <span class="font-bold">
              {{eventData.title}}
            </span>
            <span *ngIf="eventData.detail.length>0" class="font-medium">
              {{eventData.detail}}
            </span>
            <a *ngIf="eventData.link.length>0 && eventData.linkName.length>0"
              [target]="eventData?.openInNewTab ? '_blank': '_self'" class="font-medium"
              [href]="eventData.link">{{eventData.linkName}}
            </a>
          </span>
        </div>
        <div *ngIf="eventDataArray?.length===1" class="text-xs text-center">
          <span class="font-bold">
            {{eventData.title}}
          </span>
          <span *ngIf="eventData.detail.length>0" class="font-medium">
            {{eventData.detail}}
          </span>
          <a *ngIf="eventData.link.length>0 && eventData.linkName.length>0"
            [target]="eventData?.openInNewTab ? '_blank': '_self'" class="font-medium"
            [href]="eventData.link">{{eventData.linkName}}
          </a>
        </div>
        <br>
      </div>

    </ng-template>
  </div>

  <div class="m-8">
    <table style="width:100%">
      <tr>
        <th colspan="7">July 2020</th>
      </tr>
      <tr style="background-color: rgb(166, 166, 166)">
        <th>Sunday</th>
        <th>Monday</th>
        <th>Tuesday</th>
        <th>Wednesday</th>
        <th>Thursday</th>
        <th>Friday</th>
        <th>Saturday</th>
      </tr>
      <tr *ngFor="let row of [1, 2, 3, 4, 5]">
        <td *ngFor="let col of [1, 2, 3, 4, 5, 6, 7]" valign="top" style="width:14.28%">
          <ng-container *ngTemplateOutlet="eventDetails;
              context: {
                events: data?.july2020[(row -1) * 7 + col - 1]?.events,
                date: data?.july2020[(row -1) * 7 + col - 1]?.date
                }">
          </ng-container>
        </td>
      </tr>
    </table>
    <ng-template #eventDetails let-eventDataArray="events" let-date="date">
      <div class="px-1">
        <div class=" text-xs font-medium">
          {{date}}
        </div>
      </div>
      <br>
      <div class="px-1" *ngFor="let eventData of eventDataArray">
        <div *ngIf="eventDataArray?.length>1" class="flex text-xs flex-row">
          <span class=" w-1/6">
            -
          </span>
          <span class="text-xs w-5/6">
            <span class="font-bold">
              {{eventData.title}}
            </span>
            <span *ngIf="eventData.detail.length>0" class="font-medium">
              {{eventData.detail}}
            </span>
            <a *ngIf="eventData.link.length>0 && eventData.linkName.length>0" class="font-medium"
              [href]="eventData.link">{{eventData.linkName}}
            </a>
          </span>
        </div>
        <div *ngIf="eventDataArray?.length===1" class="text-xs text-center">
          <span class="font-bold">
            {{eventData.title}}
          </span>
          <span *ngIf="eventData.detail.length>0" class="font-medium">
            {{eventData.detail}}
          </span>
          <a *ngIf="eventData.link.length>0 && eventData.linkName.length>0" class="font-medium"
            [href]="eventData.link">{{eventData.linkName}}
          </a>
        </div>
        <br>
      </div>

    </ng-template>
  </div>
</div>

<div *ngIf="screenSizeIsLtMedium">
  <!-- <div class="m-8">
    <table style="width:100%">
      <tr>
        <th colspan="7">April 2020</th>
      </tr>
      <tr style="background-color: rgb(166, 166, 166)">
        <th>Sun</th>
        <th>Mon</th>
        <th>Tue</th>
        <th>Wed</th>
        <th>Thu</th>
        <th>Fri</th>
        <th>Sat</th>
      </tr>
      <tr *ngFor="let row of [1, 2, 3, 4]">
        <td *ngFor="let col of [1, 2, 3, 4, 5, 6, 7]" style="width:14.28%">
          <div (click)="openDetails(data?.april2020[(row -1) * 7 + col - 1])"
            class="flex justify-center text-xl text-center font-medium">
            <div
              [ngClass]="{'event-date': data?.april2020[(row -1) * 7 + col - 1]?.events?.length>0 ?true:false , 'p-1': data?.april2020[(row -1) * 7 + col - 1]?.events?.length>0 ?false:true}">
              {{data?.april2020[(row -1) * 7 + col - 1]?.date}}
            </div>
          </div>
        </td>
      </tr>
    </table>
  </div> -->

  <!-- <div class="m-8">
    <table style="width:100%">
      <tr>
        <th colspan="7">May 2020</th>
      </tr>
      <tr style="background-color: rgb(166, 166, 166)">
        <th>Sun</th>
        <th>Mon</th>
        <th>Tue</th>
        <th>Wed</th>
        <th>Thu</th>
        <th>Fri</th>
        <th>Sat</th>
      </tr>
      <tr *ngFor="let row of [1, 2, 3, 4, 5, 6]">
        <td *ngFor="let col of [1, 2, 3, 4, 5, 6, 7]" valign="middle" style="width:14.28%">
          <div (click)="openDetails(data?.may2020[(row -1) * 7 + col - 1])"
            class="flex justify-center text-xl text-center font-medium">
            <div
              [ngClass]="{'event-date': data?.may2020[(row -1) * 7 + col - 1]?.events?.length>0 ?true:false , 'p-1': data?.may2020[(row -1) * 7 + col - 1]?.events?.length>0 ?false:true}">
              {{data?.may2020[(row -1) * 7 + col - 1]?.date}}
            </div>
          </div>
        </td>
      </tr>
    </table>
  </div> -->


  <div class="m-8">
    <table style="width:100%">
      <tr>
        <th colspan="7">June 2020</th>
      </tr>
      <tr style="background-color: rgb(166, 166, 166)">
        <th>Sun</th>
        <th>Mon</th>
        <th>Tue</th>
        <th>Wed</th>
        <th>Thu</th>
        <th>Fri</th>
        <th>Sat</th>
      </tr>
      <tr *ngFor="let row of [1, 2, 3, 4, 5]">
        <td *ngFor="let col of [1, 2, 3, 4, 5, 6, 7]" valign="middle" style="width:14.28%">
          <div (click)="openDetails(data?.june2020[(row -1) * 7 + col - 1])"
            class="flex justify-center text-xl text-center font-medium">
            <div
              [ngClass]="{'event-date': data?.june2020[(row -1) * 7 + col - 1]?.events?.length>0 ?true:false , 'p-1': data?.june2020[(row -1) * 7 + col - 1]?.events?.length>0 ?false:true}">
              {{data?.june2020[(row -1) * 7 + col - 1]?.date}}
            </div>
          </div>
        </td>
      </tr>
    </table>
  </div>

  <div class="m-8">
    <table style="width:100%">
      <tr>
        <th colspan="7">July 2020</th>
      </tr>
      <tr style="background-color: rgb(166, 166, 166)">
        <th>Sun</th>
        <th>Mon</th>
        <th>Tue</th>
        <th>Wed</th>
        <th>Thu</th>
        <th>Fri</th>
        <th>Sat</th>
      </tr>
      <tr *ngFor="let row of [1, 2, 3, 4, 5]">
        <td *ngFor="let col of [1, 2, 3, 4, 5, 6, 7]" valign="middle" style="width:14.28%">
          <div (click)="openDetails(data?.july2020[(row -1) * 7 + col - 1])"
            class="flex justify-center text-xl text-center font-medium">
            <div
              [ngClass]="{'event-date': data?.july2020[(row -1) * 7 + col - 1]?.events?.length>0 ?true:false , 'p-1': data?.july2020[(row -1) * 7 + col - 1]?.events?.length>0 ?false:true}">
              {{data?.july2020[(row -1) * 7 + col - 1]?.date}}
            </div>
          </div>
        </td>
      </tr>
    </table>
  </div>
</div>