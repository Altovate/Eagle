
<div class="flex flex-between items-center">
  <h2 mat-dialog-title class="heading font-weight-500" i18n>
      Add Users
  </h2>
  <button mat-dialog-close mat-icon-button class="cursor-pointer" (click)="close()">
      <mat-icon>close</mat-icon>
  </button>
</div>
<div mat-dialog-content>
<div class="flex flex-between items-center">
  <ws-widget-user-autocomplete class="w-full" [rolesId]="rolesUserId" (addedUser)="addUser($event)" (removedUser)="removeUser($event)">
  </ws-widget-user-autocomplete>
  <div *ngIf="isAdding" class="pl-4">
    <mat-progress-spinner  mode="indeterminate" diameter="30"></mat-progress-spinner>
  </div>
</div>
<div *ngIf="addList.length" class="userList custom-scroll-small">
<div class="flex flex-between mb-4" *ngFor="let user of addList">
  <div class="flex items-center">
    <ws-widget-user-image class="user-image" [email]="user.email" [userName]="user.first_name + ' ' + user.last_name"
      [imageType]="'name-initial'">
    </ws-widget-user-image>
    <div class="ml-3  width-expand">
      <div class="text-wrap font-weight-500">{{ user.first_name }} {{ user.last_name }}</div>
      <div class="mat-caption text-truncate">
        {{ user.email }}
      </div>
    </div>
  </div>
  <div class="flex items-center mr-2">
    <span class="ws-mat-primary-text" *ngIf="user.hasRole">
      <mat-icon>check_circle</mat-icon>
    </span>
    <span class="ws-mat-primary-text" *ngIf="!user.hasRole">
      <mat-icon>add_circle</mat-icon>
    </span>
  </div>
</div>
</div>
</div>
<mat-divider></mat-divider>
<div mat-dialog-actions  class="flex flex-end">
  <button mat-raised-button class="addButton" [disabled]="!addList.length" type="button" color="primary" (click)="addUserRole()">
    <span i18n>Add</span>&nbsp;
    <span class="font-weight-500" *ngIf ="addList.length">({{addList.length}})</span>
  </button>
</div>

